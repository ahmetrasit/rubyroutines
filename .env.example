# Ruby Routines - Environment Variables
# Copy this file to .env.local and fill in your values

# ============================================================================
# DATABASE
# ============================================================================

# Supabase Database URL (from Supabase Dashboard > Settings > Database)
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"

# Direct connection (for Prisma migrations)
DIRECT_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"

# ============================================================================
# SUPABASE
# ============================================================================

# Supabase Project URL (from Supabase Dashboard > Settings > API)
NEXT_PUBLIC_SUPABASE_URL="https://[YOUR-PROJECT-REF].supabase.co"

# Supabase Anonymous Key (public, safe to expose)
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# Supabase Service Role Key (secret, server-side only, never expose to client)
# Required for admin operations like deleting users from Supabase Auth
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# App URL (your deployment URL or localhost for development)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Cron Job Secret (for authenticating scheduled task API endpoints)
# Generate with: openssl rand -base64 32
# Used in Authorization header: Bearer <CRON_SECRET>
# Required if you have cron jobs calling internal API endpoints (e.g., session cleanup)
CRON_SECRET="your-cron-secret-here"

# Allowed CORS Origins (comma-separated list for production)
# Development: "http://localhost:3000"
# Production: "https://yourdomain.com,https://www.yourdomain.com"
ALLOWED_ORIGINS="http://localhost:3000"

# Rate Limiting (Optional - Upstash Redis for production)
# Get these from https://console.upstash.com/
# If not set, falls back to in-memory (NOT recommended for production)
# UPSTASH_REDIS_REST_URL=""
# UPSTASH_REDIS_REST_TOKEN=""

# NextAuth Secret (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET="your-nextauth-secret-here"

# NextAuth URL (same as NEXT_PUBLIC_APP_URL)
NEXTAUTH_URL="http://localhost:3000"

# Two-Factor Authentication Encryption Key
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Must be 64 hex characters (32 bytes)
TWO_FACTOR_ENCRYPTION_KEY="your-64-character-hex-string-here"

# JWT Secret (for session management)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
JWT_SECRET="your-jwt-secret-here"

# ============================================================================
# OAUTH PROVIDERS
# ============================================================================

# Google OAuth (from Google Cloud Console)
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Optional: Add more providers as needed
# GITHUB_ID=""
# GITHUB_SECRET=""

# ============================================================================
# EMAIL (RESEND)
# ============================================================================

# Resend API Key (from https://resend.com/api-keys)
RESEND_API_KEY="re_..."

# Email "From" address (must be verified in Resend)
EMAIL_FROM="noreply@rubyroutines.com"

# ============================================================================
# STRIPE (PAYMENTS)
# ============================================================================

# Stripe Secret Key (from Stripe Dashboard)
# Use test key (sk_test_...) for development, live key (sk_live_...) for production
STRIPE_SECRET_KEY="sk_test_..."

# Stripe Publishable Key (public, safe to expose)
# Use test key (pk_test_...) for development, live key (pk_live_...) for production
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Stripe Webhook Secret (from Stripe Dashboard > Webhooks)
# Different secret for test and live modes
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Price IDs (create products in Stripe Dashboard)
STRIPE_PRICE_BRONZE="price_..."  # Bronze tier
STRIPE_PRICE_GOLD="price_..."    # Gold tier
STRIPE_PRICE_PRO="price_..."     # Pro tier

# ============================================================================
# FEATURE FLAGS (OPTIONAL)
# ============================================================================

# Enable/disable features for testing
ENABLE_MARKETPLACE="true"
ENABLE_ANALYTICS="true"
ENABLE_SCHOOL_MODE="true"

# ============================================================================
# ANALYTICS & MONITORING (OPTIONAL)
# ============================================================================

# Vercel Analytics (automatically enabled on Vercel)
# NEXT_PUBLIC_VERCEL_ANALYTICS_ID=""

# Sentry (error tracking)
# SENTRY_DSN=""
# SENTRY_AUTH_TOKEN=""

# LogRocket (session replay)
# LOGROCKET_APP_ID=""

# ============================================================================
# DEVELOPMENT
# ============================================================================

# Node environment
NODE_ENV="development"

# Enable verbose logging
DEBUG="false"

# Prisma logging
# PRISMA_LOG_LEVEL="info" # info, query, warn, error
